{% extends 'base.html' %}
{% load bootstrap3 %}
{% load i18n %}

{% block head %}
	Modificar CAF
{% endblock %}

{% block css %}
	<link href="{{STATIC_URL}}plugins/bootstrap-wizard/css/bwizard.min.css" rel="stylesheet" />
	<link href="{{STATIC_URL}}plugins/switchery/switchery.min.css" rel="stylesheet" />

{% endblock %}

{% block miga_pan %}
	<li><a href="{% url 'inicio' %}">Inicio</a></li>
	<li><a href="{% url 'listar_escenarios' %}">CAF</a>
	<li class="active">Modificar</li>
{% endblock %}

{% block titulo_contenido %}
	Centro de Acondicionamiento Físico
{% endblock %}

{% block titulo_panel %}
	Modificar CAF
{% endblock %}

{% block contenido_panel %}
	{% include 'cafs/_wizard.html' with wizard_stage=idForm %}
	<form class="form-vertical" action="" method="post">{% csrf_token %}
		<div class="well row">
			<div class="row">
				{% for i in form %}
					<div class="col-xs-6">
						{% bootstrap_field i layout="vertical" %}
					</div>
				{% endfor %}
			</div>
			<div class="row" style="margin-top:15px">
				<div class="col-xs-12">
					{% if idForm > 1 %}
						<a href="{% url 'modificar_caf' idCAF idForm|add:'-2' %}" class="btn btn-success pull-left">
							{% trans "← Anterior" %}
						</a>
						<a href="{% url 'modificar_caf' idCAF %}" class="btn btn-default pull-left" style="margin-left:5px;">
							{% trans "Primer Paso" %}
						</a>
					{% endif %}
					<button class="btn btn-primary pull-right" type="submit">
						{% if idForm == 4 %}
						 	Finalizar
						{% else %}
							Modificar
						{% endif %}
						→
					</button>
				</div>
			</div>
		</div>
	</form>
{% endblock %}

{% block js %}
	<script src="{{STATIC_URL}}plugins/bootstrap-wizard/js/bwizard.js"></script>
	<script src="{{STATIC_URL}}js/form-wizards.demo.min.js"></script>

	<script src="{{STATIC_URL}}plugins/switchery/switchery.min.js"></script>
	<script type="text/javascript">
		var green = '#00acac',
		    red = '#ff5b57',
		    blue = '#348fe2',
		    purple = '#727cb6',
		    orange = '#f59c1a',
		    black = '#2d353c';

		if ($('[data-render=switchery]').length !== 0) {
	        $('[data-render=switchery]').each(function() {
	            var themeColor = green;
	            if ($(this).attr('data-theme')) {
	                switch ($(this).attr('data-theme')) {
	                    case 'red':
	                        themeColor = red;
	                        break;
	                    case 'blue':
	                        themeColor = blue;
	                        break;
	                    case 'purple':
	                        themeColor = purple;
	                        break;
	                    case 'orange':
	                        themeColor = orange;
	                        break;
	                    case 'black':
	                        themeColor = black;
	                        break;
	                }
	            }
	            var option = {};
	                option.color = themeColor;
	                option.secondaryColor = ($(this).attr('data-secondary-color')) ? $(this).attr('data-secondary-color') : '#dfdfdf';
	                option.className = ($(this).attr('data-classname')) ? $(this).attr('data-classname') : 'switchery';
	                option.disabled = ($(this).attr('data-disabled')) ? true : false;
	                option.disabledOpacity = ($(this).attr('data-disabled-opacity')) ? $(this).attr('data-disabled-opacity') : 0.5;
	                option.speed = ($(this).attr('data-speed')) ? $(this).attr('data-speed') : '0.5s';
	            var switchery = new Switchery(this, option);
	        });
	    }
	</script>
{% endblock %}

{% block script %}
	<script>
		$(document).ready(function() {
			App.init();
			FormWizard.init();
		});
	</script>
{% endblock %}